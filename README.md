# social_network_system_design
System Design социальной сети для курса по System Design

# Функциональные требования
1. Лента новостей (посты других пользователей), сортируем по времени (первыми - более свежие)
2. Аутентификация, авторизация пользователей
3. Можно оценивать и комментировать посты других пользователей
4. Можно подписываться на других пользователей
5. Поиск популярных мест, просмотр постов с этих мест

# Нефункциональные требования
1. DAU = 10 000 000
2. В среднем запросов в день - на чтение 40. На запись - создание постов - не более 10 постов в день в среднем.
3. Каждый пользователь ищет в среднем 5 мест для путешествия в день.
4. Каждый пользователь в среднем оставляет 10 комментариев в день. Читаем 50 самых свежих комментариев.
5. Аудитория - страны СНГ.
6. Используем мобильное приложение и браузер.
7. Сезонности: может возрастать нагрузка на праздники/выходные.
8. Условия хранения данных: всегда.
9. Лимиты: 
   1. максимальное количество подписчиков - 1 000 000 подписчиков.
   2. не более 1000 комментариев к одному посту
   3. не более 5 фото к каждому посту
   4. размер комментария не более 2000 символов
10. Лента: подгружаем последние 20 постов единовременно.
11. Временные ограничения: лента может обновляться не сразу. Допустима задержка не более 4 секунд.
12. Доступность приложения: за год не более 4 часов простоя. (99.95%)
13. Поиск постов: по строке.

# Расчеты

## Таблицы

```
posts (20Kb):
post_id uuid 8b
description string < 2 Kb
owner_id uuid 8b
photo [] url 2Kb * 5 = 10Kb
likes int 8b
comments [] {comment_id} 8b * 1000 ~ 8Kb
```
```
comments(9Kb):
comment_id uuid 8b
text string 8Kb
owner_id uuid 8b
```

## RPS

### Посты
read: 10 000 000 * 40 / 86400 ~ 4000
write: 10 000 000 * 10 / 86400 ~ 1000

### Комментарии
read: 10 000 000 * 50 / 86400 ~ 5000
write: 10 000 000 * 10 / 86400 ~ 1000

## traffic

### Посты
read:
4000 * 20Kb ~ 80000 Kb/s ~ 80 Mb/s

write:
1000 * 20Kb ~ 20000 Kb/s ~ 20 Mb/s

### Комментарии
read:
5000 * 9Kb ~ 45000 Kb/s ~ 45 Mb/s

write:
1000 * 9Kb ~ 9000 Kb/s ~ 9 Mb/s
